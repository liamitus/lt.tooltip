/*! lt-tooltip 2015-02-01 */
!function(){"use strict";angular.module("lt.tooltip",[]).directive("tooltip",["$window",function(a){var b=10,c="This is a tooltip!",d="top",e=["top","bottom","right","left"],f=function(b){var c=b[0],d=angular.element(c.querySelector(".tooltip")),e=angular.element(c.querySelector(".transcluded")),f=c.getBoundingClientRect();return{top:f.top,left:f.left,tooltipHeight:d[0].offsetHeight,tooltipWidth:d[0].offsetWidth,transcludedHeight:e[0].offsetHeight,transcludedWidth:e[0].offsetWidth,windowHeight:a.innerHeight,windowWidth:a.innerWidth}},g=function(b,c){var d=b.top,e=b.left+c.tooltipWidth,f=b.top+c.tooltipHeight,g=b.left;return d>=0&&g>=0&&e<a.innerWidth&&f<a.innerHeight},h=function(a,b){var c=b.indexOf(a);return c>0&&b.splice(c,1),b},i=function(a,b){var c=b||e,d=c.indexOf(a);return++d,d>=c.length&&(d=0),c[d]},j=function(a,c){var d,e,f=a.top,g=a.left,h=a.tooltipHeight,i=a.tooltipWidth,j=a.transcludedHeight,k=a.transcludedWidth;switch(c){case"right":d=f-j/2,e=g+(k+b);break;case"left":d=f-j/2,e=g-(i+b);break;case"bottom":d=f+(h-b),e=g-Math.abs(k-i)/2;break;case"top":default:d=f-(h+b),e=g-Math.abs(k-i)/2}return{top:d,left:e}},k=function(a,b){var c;switch(b){case"right":c="left";break;case"left":c="right";break;case"bottom":c="top";break;case"top":default:c="bottom"}a.addClass(c)};return{restrict:"AE",transclude:!0,template:function(){return'<div class="tooltip"><div class="tooltip-content"></div><div class="tooltip-arrow"></div></div><span class="transcluded" ng-transclude></span>'},link:function(a,b,l){var m,n,o,p=b[0],q=angular.element(p.querySelector(".tooltip")),r=angular.element(p.querySelector(".tooltip-content")),s=angular.element(p.querySelector(".tooltip-arrow")),t=l.direction||d,u=l.template||l.content||c,v=e;for(r.html(u),m=f(b),n=j(m,t),o=g(n,m);!o&&v.length;)v=h(t,v),t=i(t,v),n=j(m,t),o=g(n,m);q.css("top",n.top+"px"),q.css("left",n.left+"px"),k(s,t),p.addEventListener("mouseover",function(){q.addClass("show")}),p.addEventListener("mouseout",function(){q.removeClass("show")})}}}])}();